<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hacky-Helper: Tabs</title>
  </head>
  <body>
    <header>
      <h1>H-H: Tabs</h1>

      <button id="requestTabSummariesButton">Request Tab Summaries</button>
      <button id="categorizeTabsButton">Auto-Categorize Tabs</button>
      <!-- TODO: Show the Session Name for already-named session window -->
      <input
        id="namedSessionInput"
        type="text"
        placeholder="Enter session name"
      />
      <button id="createNamedSessionButton">Create Named Session</button>

      <div class="settings">
        <a href="settings.html" target="_blank">⚙️ settings</a>
      </div>
    </header>

    <content>
      <div id="sessions">
        <div id="named_sessions">
          <h3>Named Sessions</h3>
          <ul>
            <!-- Named sessions will be populated here -->
            <li>Loading named sessions...</li>
          </ul>
        </div>
        <div id="tabs_sessions">
          <h3>Windows</h3>
          <ul>
            <!-- Windows sessions will be populated here -->
            <li>Loading windows...</li>
          </ul>
        </div>
        <div id="closed_sessions">
          <h3>Closed Named Sessions</h3>
          <ul>
            <!-- Closed named sessions will be populated here -->
            <li>Loading closed sessions...</li>
          </ul>
        </div>
      </div>

      <div id="tabs_tablist">
        <h3>Tabs</h3>
        <div class="instructions">
          Select a window from the left to view its tabs
        </div>
        <table border="1">
          <thead>
            <tr>
              <th>Tab ID</th>
              <th>Title</th>
              <th>URL</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="3">Select a window to view tabs</td>
            </tr>
          </tbody>
        </table>
      </div>
    </content>

    <!-- Tab Migration Dialog -->
    <div id="migrationDialog" class="dialog-overlay" style="display: none">
      <div class="dialog-content">
        <h3>Migrate Tab to Another Window</h3>
        <div id="migrationTabInfo"></div>
        <div class="dialog-section">
          <h4>Suggested Destinations</h4>
          <div id="suggestedDestinations">
            <p>Loading suggestions...</p>
          </div>
        </div>
        <div class="dialog-section">
          <h4>All Windows</h4>
          <div id="allDestinations">
            <p>Loading windows...</p>
          </div>
        </div>
        <div class="dialog-buttons">
          <button id="cancelMigrationButton">Cancel</button>
        </div>
      </div>
    </div>

    <!-- Tab Categories Dialog -->
    <div id="categoriesDialog" class="dialog-overlay" style="display: none">
      <div class="dialog-content">
        <h3>Tab Categories</h3>
        <div id="categoriesList">
          <p>Analyzing tabs...</p>
        </div>
        <div class="dialog-buttons">
          <button id="closeCategoriesButton">Close</button>
        </div>
      </div>
    </div>

    <script type="module" src="/src/tabs.ts"></script>
  </body>
</html>
